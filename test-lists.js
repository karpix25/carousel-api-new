const testWithLists = `# –ß—Ç–æ –¥–∞—ë—Ç –ø—Ä–∞–≤–∏–ª—å–Ω–∞—è –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è –±–∏–∑–Ω–µ—Å–∞

## –û—Å–Ω–æ–≤–Ω—ã–µ –ø—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞

- –≠–∫–æ–Ω–æ–º–∏—è –¥–æ 40% –≤—Ä–µ–º–µ–Ω–∏ –Ω–∞ —Ä—É—Ç–∏–Ω–Ω—ã—Ö –æ–ø–µ—Ä–∞—Ü–∏—è—Ö
- –°–Ω–∏–∂–µ–Ω–∏–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ —á–µ–ª–æ–≤–µ—á–µ—Å–∫–∏—Ö –æ—à–∏–±–æ–∫  
- –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å —Ä–∞–±–æ—Ç–∞—Ç—å 24/7 –±–µ–∑ –≤—ã—Ö–æ–¥–Ω—ã—Ö
- –ú–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏–µ –±–µ–∑ –ø—Ä–æ–ø–æ—Ä—Ü–∏–æ–Ω–∞–ª—å–Ω–æ–≥–æ —Ä–æ—Å—Ç–∞ —à—Ç–∞—Ç–∞
- –§–æ–∫—É—Å –Ω–∞ —Å—Ç—Ä–∞—Ç–µ–≥–∏–∏ –≤–º–µ—Å—Ç–æ –æ–ø–µ—Ä–∞—Ü–∏–æ–Ω–∫–∏
- –£–ª—É—á—à–µ–Ω–∏–µ –∫–∞—á–µ—Å—Ç–≤–∞ –æ–±—Å–ª—É–∂–∏–≤–∞–Ω–∏—è –∫–ª–∏–µ–Ω—Ç–æ–≤

> –ê–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è ‚Äî —ç—Ç–æ –Ω–µ —Ä–æ—Å–∫–æ—à—å, –∞ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç—å

## –ü—Ä–æ—Å—Ç–æ–π –ø—Ä–∏–º–µ—Ä –∏–∑ –ø—Ä–∞–∫—Ç–∏–∫–∏

–í–º–µ—Å—Ç–æ —Ç–æ–≥–æ —á—Ç–æ–±—ã –≤—Ä—É—á–Ω—É—é –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—Ç—å –∫–∞–∂–¥—É—é –∑–∞—è–≤–∫—É:
- –ù–∞—Å—Ç—Ä–æ–π—Ç–µ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫—É—é —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫—É –ø–æ –∫—Ä–∏—Ç–µ—Ä–∏—è–º
- –°–∏—Å—Ç–µ–º–∞ —Å–∞–º–∞ –æ–ø—Ä–µ–¥–µ–ª—è–µ—Ç –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç
- –ù–∞–∑–Ω–∞—á–∞–µ—Ç –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ–≥–æ  
- –û—Ç–ø—Ä–∞–≤–ª—è–µ—Ç —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è

–†–µ–∑—É–ª—å—Ç–∞—Ç: —Ç–æ, —á—Ç–æ —Ä–∞–Ω—å—à–µ –∑–∞–Ω–∏–º–∞–ª–æ 2 —á–∞—Å–∞, —Ç–µ–ø–µ—Ä—å –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –∑–∞ 5 –º–∏–Ω—É—Ç.`;

fetch('http://localhost:3001/api/generate-carousel', {
  method: 'POST',
  headers: { 'Content-Type': 'application/json' },
  body: JSON.stringify({
    text: testWithLists,
    settings: {
      brandColor: '#6366F1',
      authorUsername: '@business_guru',
      authorFullName: '–≠–∫—Å–ø–µ—Ä—Ç –ø–æ –∞–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏–∏'
    }
  })
}).then(r => r.json()).then(result => {
  const fs = require('fs');
  const path = require('path');
  
  const outputDir = path.join(__dirname, 'enhanced-carousel');
  if (!fs.existsSync(outputDir)) {
    fs.mkdirSync(outputDir, { recursive: true });
  }

  result.images.forEach((image, i) => {
    const filename = `enhanced_slide_${i + 1}_${result.slides[i].type}.png`;
    fs.writeFileSync(path.join(outputDir, filename), Buffer.from(image, 'base64'));
    console.log(`üíæ ${filename}`);
  });

  console.log(`‚úÖ –°–æ–∑–¥–∞–Ω–æ ${result.metadata.totalSlides} —Å–ª–∞–π–¥–æ–≤ —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π —Å–ø–∏—Å–∫–æ–≤!`);
}).catch(console.error);
